<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="icon" type="image/jpg" href="https://i.postimg.cc/gJZGFkv3/710fecd9ceed2eb652c64141cb70e14e.jpg">
    <link rel="shortcut icon" type="image/jpg" href="https://i.postimg.cc/gJZGFkv3/710fecd9ceed2eb652c64141cb70e14e.jpg">

    <title>منصة مستر عبدالله سيد | تعلم اللغة الإنجليزية</title>
    
    <meta name="description" content="الموقع الرسمي لمستر عبدالله سيد. منصة تعليمية للغة الإنجليزية للمرحلة الثانوية.">
    <meta property="og:image" content="https://i.postimg.cc/DZ9y8b2x/In-Shot-20251205-140055157.jpg">
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #c0392b;
            --primary-light: #e74c3c;
            --secondary: #2c3e50;
            --accent: #f1c40f;
            --bg-body: #f8f9fa;
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(255, 255, 255, 0.5);
            --text-main: #2d3436;
            --text-light: #636e72;
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            --radius: 20px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        [data-theme="dark"] {
            --primary: #e74c3c;
            --primary-light: #ff6b6b;
            --secondary: #34495e;
            --bg-body: #1a1a1a;
            --glass-bg: rgba(30, 30, 30, 0.85);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #dfe6e9;
            --text-light: #b2bec3;
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0; padding: 0; box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            overflow-x: hidden;
            transition: var(--transition);
        }

        /* --- خلفية متحركة --- */
        .background-shapes {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            overflow: hidden; pointer-events: none;
        }
        .shape {
            position: absolute; border-radius: 50%;
            filter: blur(80px); opacity: 0.4;
            animation: floatShape 10s infinite alternate;
        }
        .shape-1 { width: 300px; height: 300px; background: var(--primary); top: -50px; left: -50px; }
        .shape-2 { width: 400px; height: 400px; background: var(--accent); bottom: -100px; right: -100px; animation-delay: 2s; }
        .shape-3 { width: 200px; height: 200px; background: #3498db; top: 40%; left: 40%; animation-delay: 4s; }

        @keyframes floatShape {
            0% { transform: translate(0, 0); }
            100% { transform: translate(30px, 50px); }
        }

        /* --- Loader --- */
        #loader {
            position: fixed; inset: 0;
            background: var(--secondary);
            z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
            transition: opacity 0.5s ease-out;
        }
        .loader-spinner {
            width: 50px; height: 50px;
            border: 5px solid #fff; border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* --- Navbar --- */
        nav {
            position: sticky; top: 0; z-index: 100;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            padding: 15px 5%;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: var(--shadow);
        }
        .logo { font-size: 1.5rem; font-weight: 900; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { text-decoration: none; color: var(--text-main); font-weight: 700; transition: 0.3s; position: relative; }
        .nav-links a::after {
            content: ''; position: absolute; bottom: -5px; right: 0; width: 0; height: 2px;
            background: var(--primary); transition: 0.3s;
        }
        .nav-links a:hover { color: var(--primary); }
        .nav-links a:hover::after { width: 100%; }
        
        .nav-actions { display: flex; gap: 15px; align-items: center; }
        .theme-btn, .menu-btn { background: none; border: none; font-size: 1.2rem; color: var(--text-main); cursor: pointer; transition: 0.3s; }
        .theme-btn:hover { transform: rotate(15deg); color: var(--accent); }
        .menu-btn { display: none; }

        /* --- Hero Section --- */
        .hero { min-height: 90vh; display: flex; align-items: center; justify-content: space-between; padding: 0 5%; gap: 30px; position: relative; }
        .hero-text { flex: 1; z-index: 2; }
        .hero h1 { font-size: 3.5rem; margin-bottom: 20px; line-height: 1.2; }
        .hero span { color: var(--primary); position: relative; display: inline-block; }
        .hero span::after {
            content: ''; position: absolute; bottom: 5px; left: 0; width: 100%; height: 10px;
            background: var(--accent); opacity: 0.3; z-index: -1; border-radius: 5px;
        }
        
        .btn-main {
            padding: 15px 40px; background: linear-gradient(45deg, var(--primary), var(--primary-light)); 
            color: #fff; border: none; border-radius: 50px;
            font-size: 1.1rem; font-weight: 700; cursor: pointer; 
            box-shadow: 0 10px 25px rgba(192, 57, 43, 0.4);
            transition: var(--transition);
            position: relative; overflow: hidden;
        }
        .btn-main::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        .btn-main:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(192, 57, 43, 0.6); }
        .btn-main:hover::before { left: 100%; }

        .hero-img { flex: 1; z-index: 2; display: flex; justify-content: center; }
        .hero-img img { width: 100%; max-width: 450px; border-radius: 40px; box-shadow: -20px 20px 0 var(--secondary); animation: floatImg 6s ease-in-out infinite; }
        @keyframes floatImg {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* --- Features Section (تصميم البطاقات المائلة) --- */
        .features-section {
            padding: 80px 5%;
            position: relative;
        }
        .section-title { text-align: center; margin-bottom: 60px; font-size: 2.8rem; color: var(--secondary); position: relative; display: inline-block; left: 50%; transform: translateX(-50%); }
        .section-title::after {
            content: ''; display: block; width: 80px; height: 4px; background: var(--primary);
            margin: 10px auto 0; border-radius: 2px;
        }

        .features-grid {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 50px; /* زيادة المسافة قليلاً */
            padding: 20px 0;
        }

        .feature-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            width: 280px;
            padding: 30px 20px;
            border-radius: 30px;
            text-align: center;
            position: relative;
            transition: var(--transition);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            backdrop-filter: blur(5px);
            z-index: 1;
            /* الميلان */
            transform: rotate(var(--tilt-angle, 0deg));
        }

        .feature-card:hover {
            transform: scale(1.05) rotate(0deg) translateY(-10px) !important;
            z-index: 10;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border-color: var(--card-color, var(--primary));
        }

        .icon-circle {
            width: 80px; height: 80px;
            margin: -60px auto 20px;
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 2rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            position: relative;
            z-index: 5;
            background: linear-gradient(135deg, #fff, var(--card-bg-light, #f0f0f0));
            color: var(--card-color, #333);
            border: 4px solid white;
        }
        
        .icon-circle i { animation: bounceIcon 3s infinite ease-in-out; }
        @keyframes bounceIcon {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .feature-card h3 { font-size: 1.3rem; margin-bottom: 10px; color: var(--secondary); font-weight: 800; }
        .feature-card p { font-size: 0.95rem; color: var(--text-light); line-height: 1.6; }

        /* شريط التزيين أعلى البطاقة */
        .tape {
            position: absolute; top: -15px; left: 50%; 
            width: 40px; height: 12px; background: rgba(0,0,0,0.1);
            transform: translateX(-50%) rotate(-2deg);
        }

        /* --- Courses Section --- */
        .container { padding: 0 5%; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 80px; }
        .card {
            background: var(--glass-bg); backdrop-filter: blur(5px); border: 1px solid var(--glass-border);
            border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); transition: var(--transition);
            position: relative; overflow: hidden;
        }
        .card:hover { transform: translateY(-10px); border-color: var(--primary); }
        .class-img { width: 100%; height: 200px; object-fit: cover; border-radius: 15px; margin-bottom: 15px; }

        /* --- Auth & Views --- */
        .view { display: none; opacity: 0; transition: opacity 0.5s; }
        .view.active-view { display: block; opacity: 1; animation: fadeIn 0.5s forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .auth-container { max-width: 500px; margin: 50px auto; position: relative; z-index: 10; padding: 0 20px; }
        .auth-tabs { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; }
        .auth-tab {
            padding: 10px 30px; border-radius: 30px; cursor: pointer; font-weight: bold;
            background: rgba(255, 255, 255, 0.5); border: 1px solid var(--glass-border); transition: 0.3s;
        }
        .auth-tab.active { background: var(--primary); color: white; transform: scale(1.05); box-shadow: 0 5px 15px rgba(192, 57, 43, 0.3); }

        .auth-form { display: none; }
        .auth-form.active { display: block; animation: slideUpFade 0.5s ease forwards; }

        .inp-group { margin-bottom: 20px; position: relative; }
        .inp-field {
            width: 100%; padding: 15px 20px 15px 50px; /* مساحة للأيقونة */
            border: 2px solid transparent; border-radius: 15px;
            background: rgba(255,255,255,0.8); backdrop-filter: blur(10px);
            font-size: 1rem; color: var(--text-main); transition: 0.3s;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.02);
        }
        .inp-field:focus { outline: none; background: #fff; border-color: var(--primary); transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .inp-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--primary); }

        @keyframes slideUpFade {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Footer & Floating Icons --- */
        .floating-chat {
            position: fixed; bottom: 30px; z-index: 999;
            background: #2980b9; color: white; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 5px 20px rgba(41, 128, 185, 0.6);
            text-decoration: none; font-size: 1.8rem;
            transition: var(--transition);
            cursor: pointer;
        }
        /* على اليمين في الشاشات الكبيرة وعلى اليسار في الموبايل */
        @media (min-width: 1024px) { .floating-chat { right: 30px; width: 60px; height: 60px; } }
        @media (max-width: 1023px) { .floating-chat { left: 20px; width: 55px; height: 55px; font-size: 1.5rem; } }
        
        .floating-chat:hover { transform: scale(1.1); }

        footer {
            background: var(--secondary); color: #fff;
            padding: 60px 5% 0px; margin-top: 100px;
            border-top-left-radius: 60px; border-top-right-radius: 60px;
            position: relative; overflow: hidden;
        }
        .footer-social { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-top: 20px; }
        .social-icon {
            width: 50px; height: 50px; background: #333; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 1.4rem; color: #fff; text-decoration: none;
            transition: var(--transition); box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .social-icon.fb { background: #1877F2; }
        .social-icon.yt { background: #FF0000; }
        .social-icon.wa { background: #25D366; }
        .social-icon.tg { background: #0088cc; }
        .social-icon:hover { transform: translateY(-10px) scale(1.1); box-shadow: 0 15px 30px rgba(0,0,0,0.4); }

        .footer-bottom {
            margin-top: 50px; padding: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex; justify-content: space-between; align-items: center;
            flex-wrap: wrap; gap: 15px; font-size: 0.9rem; opacity: 0.8;
            background: rgba(0,0,0,0.2);
        }
        .footer-links a { color: #fff; text-decoration: none; margin: 0 10px; transition: 0.3s; }
        .footer-links a:hover { color: var(--accent); }

        /* --- Custom Toast Notification --- */
        .toast {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: rgba(44, 62, 80, 0.95); color: white; padding: 12px 25px;
            border-radius: 50px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 10000; transition: 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex; align-items: center; gap: 10px; font-weight: bold;
            opacity: 0; pointer-events: none; white-space: nowrap;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .toast i { color: #2ecc71; }

        /* --- Mobile Responsive Updates --- */
        @media (max-width: 768px) {
            .hero { flex-direction: column-reverse; text-align: center; padding-top: 40px; }
            .hero h1 { font-size: 2.2rem; }
            .nav-links {
                position: fixed; top: 70px; left: 0; width: 100%;
                background: var(--glass-bg); flex-direction: column; padding: 20px;
                display: none; box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            }
            .nav-links.active { display: flex; }
            .menu-btn { display: block; }

            /* تحسين شكل البطاقات على الموبايل (أصغر وأرتب) */
            .feature-card { 
                width: 90%; /* أصغر قليلاً من الشاشة الكاملة */
                max-width: 350px;
                margin-bottom: 50px; 
                transform: none !important; /* إلغاء الميل في الموبايل */
                padding: 25px 15px;
            }
            
            /* تصغير أيقونات المميزات في الموبايل */
            .icon-circle {
                width: 65px; height: 65px;
                font-size: 1.6rem;
                margin-top: -55px; /* رفع الأيقونة قليلاً */
            }

            .features-grid { padding-top: 40px; gap: 60px; }
            
            .footer-bottom { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>

    <div class="background-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <!-- شاشة التحميل -->
    <div id="loader">
        <div class="loader-spinner"></div>
        <h3 style="color:white; margin-top:20px; letter-spacing: 1px;">Mr. Abdullah Sayed</h3>
    </div>

    <!-- إشعار منبثق مخصص -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-msg">تمت العملية بنجاح</span>
    </div>

    <!-- القائمة العلوية -->
    <nav>
        <div class="logo"><i class="fas fa-graduation-cap"></i> Mr. Abdullah</div>
        <div class="nav-links" id="navLinks">
            <a href="#" onclick="switchView('home')">الرئيسية</a>
            <a href="#features" onclick="switchView('home')">المميزات</a>
            <a href="#classes" onclick="switchView('home')">الصفوف</a>
            <a href="#" onclick="switchView('auth')" id="nav-auth-btn">تسجيل الدخول</a>
            <a href="#" onclick="logout()" id="nav-logout-btn" style="display:none; color:var(--primary);">خروج</a>
        </div>
        <div class="nav-actions">
            <button class="theme-btn" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
            <button class="menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <!-- أيقونة الدردشة العائمة (Chat) -->
    <div class="floating-chat" onclick="openChat()">
        <i class="fas fa-comments"></i>
    </div>

    <!-- المحتوى الرئيسي -->
    <div id="home" class="view active-view">
        <section class="hero">
            <div class="hero-text">
                <h3><i class="fas fa-star" style="color:var(--accent)"></i> منصة التعليم الأولى</h3>
                <h1>تعلم الإنجليزية باحتراف مع<br><span>مستر عبدالله سيد</span></h1>
                <p>حولنا اللغة الإنجليزية من مادة صعبة إلى لعبة ممتعة. شرح مبسط، خرائط ذهنية، ومتابعة مستمرة تضمن لك الدرجة النهائية.</p>
                <button class="btn-main" onclick="switchView('auth')">اشترك الآن <i class="fas fa-arrow-left"></i></button>
            </div>
            <div class="hero-img">
                <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Education">
            </div>
        </section>

        <!-- القسم الجديد: لماذا تشترك معنا؟ (البطاقات المائلة) -->
        <section class="features-section" id="features">
            <h2 class="section-title">لماذا مستر عبدالله؟</h2>
            
            <div class="features-grid">
                <!-- بطاقة 1 -->
                <div class="feature-card" style="--tilt-angle: -3deg; --card-color: #3498db; --card-bg-light: #e3f2fd;">
                    <div class="tape"></div>
                    <div class="icon-circle">
                        <i class="fas fa-magic"></i>
                    </div>
                    <h3>شرح مبسط وممتع</h3>
                    <p>وداعاً للتعقيد! بنشرح الجرامر والكلمات بطريقة الخرائط الذهنية والقصص عشان تثبت في دماغك وما تنساش أبداً.</p>
                </div>

                <!-- بطاقة 2 -->
                <div class="feature-card" style="--tilt-angle: 2deg; --card-color: #e74c3c; --card-bg-light: #ffebee;">
                    <div class="tape"></div>
                    <div class="icon-circle">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>مستوى عالي</h3>
                    <p>مش بس بنشرح المنهج، إحنا بنأسسك صح في اللغة عشان توصل لمستوى "Advanced" وتضمن الدرجة النهائية.</p>
                </div>

                <!-- بطاقة 3 -->
                <div class="feature-card" style="--tilt-angle: -2deg; --card-color: #f1c40f; --card-bg-light: #fffde7;">
                    <div class="tape"></div>
                    <div class="icon-circle">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3>ملخصات ذهبية</h3>
                    <p>مذكراتنا مش زي أي حد. ملخصات ملونة ومنظمة بتلم لك المنهج كله في ورقات بسيطة ليلة الامتحان.</p>
                </div>

                <!-- بطاقة 4 -->
                <div class="feature-card" style="--tilt-angle: 3deg; --card-color: #2ecc71; --card-bg-light: #e8f5e9;">
                    <div class="tape"></div>
                    <div class="icon-circle">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>دعم 24 ساعة</h3>
                    <p>فريق كامل من المساعدين جاهز يرد على أي سؤال ليك في أي وقت، ومتابعة دورية مع ولي الأمر.</p>
                </div>
            </div>
        </section>

        <!-- قسم الكورسات -->
        <h2 class="section-title">الصفوف الدراسية</h2>
        <div class="container" id="classes">
            <div class="card">
                <img src="https://images.unsplash.com/photo-1434030216411-0b793f4b4173?auto=format&fit=crop&w=600&q=80" class="class-img">
                <h3>الصف الأول الثانوي</h3>
                <p style="font-size:0.9rem; color:var(--text-light); margin-bottom:15px;">تأسيس قوي وشرح لكل فروع اللغة.</p>
                <button class="btn-main" style="width:100%" onclick="switchView('auth')">اشترك</button>
            </div>
            <div class="card">
                <img src="https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?auto=format&fit=crop&w=600&q=80" class="class-img">
                <h3>الصف الثاني الثانوي</h3>
                <p style="font-size:0.9rem; color:var(--text-light); margin-bottom:15px;">تعمق في اللغة وتدريبات مكثفة.</p>
                <button class="btn-main" style="width:100%" onclick="switchView('auth')">اشترك</button>
            </div>
            <div class="card" style="border:2px solid var(--accent)">
                <div style="position:absolute; top:10px; left:10px; background:var(--accent); color:#000; padding:2px 10px; border-radius:10px; font-weight:bold; font-size:0.8rem;">الأكثر طلباً</div>
                <img src="https://images.unsplash.com/photo-1497633762265-9d179a990aa6?auto=format&fit=crop&w=600&q=80" class="class-img">
                <h3>الصف الثالث الثانوي</h3>
                <p style="font-size:0.9rem; color:var(--text-light); margin-bottom:15px;">معسكر مغلق للوصول للدرجة النهائية.</p>
                <button class="btn-main" style="width:100%" onclick="switchView('auth')">اشترك</button>
            </div>
        </div>
    </div>

    <!-- صفحة التسجيل والدخول -->
    <div id="auth" class="view">
        <div class="auth-container">
            <h2 style="text-align:center; margin-bottom:10px;">بوابة الطالب</h2>
            <p style="text-align:center; color:var(--text-light); margin-bottom:30px;">سجل دخولك لبدء رحلة التفوق</p>

            <div class="auth-tabs">
                <div class="auth-tab active" onclick="toggleAuth('login')" id="tab-login">تسجيل دخول</div>
                <div class="auth-tab" onclick="toggleAuth('register')" id="tab-register">تسجيل جديد</div>
            </div>

            <!-- فورم تسجيل الدخول -->
            <form id="form-login" class="auth-form active" onsubmit="handleLogin(event)">
                <div class="inp-group">
                    <i class="fas fa-phone inp-icon"></i>
                    <input type="tel" id="login-phone" class="inp-field" placeholder="رقم الهاتف" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-lock inp-icon"></i>
                    <input type="password" id="login-pass" class="inp-field" placeholder="كلمة المرور" required>
                </div>
                <button class="btn-main" style="width:100%; margin-top:10px;">دخول <i class="fas fa-sign-in-alt"></i></button>
            </form>

            <!-- فورم التسجيل الجديد -->
            <form id="form-register" class="auth-form" onsubmit="handleRegister(event)">
                <div class="inp-group">
                    <i class="fas fa-user inp-icon"></i>
                    <input type="text" id="reg-name" class="inp-field" placeholder="اسم الطالب الثلاثي" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-user-tie inp-icon"></i>
                    <input type="text" id="reg-parent" class="inp-field" placeholder="اسم ولي الأمر" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-id-badge inp-icon"></i>
                    <input type="text" id="reg-title" class="inp-field" placeholder="اللقب (مثال: دكتور/مهندس)" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-mobile-alt inp-icon"></i>
                    <input type="tel" id="reg-phone" class="inp-field" placeholder="رقم هاتف الطالب" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-phone inp-icon"></i>
                    <input type="tel" id="reg-parent-phone" class="inp-field" placeholder="رقم هاتف ولي الأمر" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-lock inp-icon"></i>
                    <input type="password" id="reg-pass" class="inp-field" placeholder="كلمة المرور" required>
                </div>
                <div class="inp-group">
                    <i class="fas fa-check-circle inp-icon"></i>
                    <input type="password" id="reg-pass-conf" class="inp-field" placeholder="تأكيد كلمة المرور" required>
                </div>
                <button class="btn-main" style="width:100%; margin-top:10px;">إنشاء حساب <i class="fas fa-user-plus"></i></button>
            </form>
            
            <p style="text-align:center; margin-top:30px; cursor:pointer; opacity:0.7; font-size:0.9rem;" onclick="switchView('home')"><i class="fas fa-arrow-right"></i> العودة للرئيسية</p>
        </div>
    </div>

    <footer>
        <div style="text-align:center;">
            <h2 style="margin-bottom:10px;">خليك دايماً متابعنا</h2>
            <p style="opacity:0.8; margin-bottom:30px;">تابع صفحاتنا عشان يوصلك كل جديد ومراجعات مجانية</p>
            <div class="footer-social">
                <a href="#" class="social-icon fb"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-icon yt"><i class="fab fa-youtube"></i></a>
                <a href="#" class="social-icon tg"><i class="fab fa-telegram-plane"></i></a>
                <a href="#" class="social-icon wa"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>

        <!-- الجزء السفلي الجديد للفوتر -->
        <div class="footer-bottom">
            <div class="footer-copy">
                جميع الحقوق محفوظة &copy; 2024 لمنصة <strong>Mr. Abdullah Sayed</strong>
            </div>
            <div class="footer-links">
                <a href="#">سياسة الخصوصية</a> |
                <a href="#">الشروط والأحكام</a> |
                <a href="#">تواصل معنا</a>
            </div>
        </div>
    </footer>

    <script>
        // إخفاء الـ Loader
        window.onload = () => {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                if(loader) {
                    loader.style.opacity = '0';
                    setTimeout(() => loader.style.display = 'none', 500);
                }
                checkLoginStatus(); // التحقق من تسجيل الدخول عند الفتح
            }, 800);
        };

        function toggleTheme() {
            const body = document.body;
            const btnIcon = document.querySelector('.theme-btn i');
            if(body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                btnIcon.className = 'fas fa-moon';
            } else {
                body.setAttribute('data-theme', 'dark');
                btnIcon.className = 'fas fa-sun';
            }
        }

        function toggleMenu() {
            document.getElementById('navLinks').classList.toggle('active');
        }

        function switchView(viewId) {
            document.querySelectorAll('.view').forEach(el => el.classList.remove('active-view'));
            setTimeout(() => {
                const target = document.getElementById(viewId);
                if(target) target.classList.add('active-view');
            }, 50);
            window.scrollTo(0,0);
            if(window.innerWidth < 768) document.getElementById('navLinks').classList.remove('active');
        }

        function toggleAuth(mode) {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('tab-' + mode).classList.add('active');

            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            document.getElementById('form-' + mode).classList.add('active');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            const msg = document.getElementById('toast-msg');
            msg.innerText = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function openChat() {
            showToast('أهلاً بك! سيقوم أحد المساعدين بالرد عليك قريباً..');
        }

        // --- Logic for LocalStorage Authentication ---

        function handleRegister(e) {
            e.preventDefault();
            
            // جلب البيانات
            const name = document.getElementById('reg-name').value;
            const phone = document.getElementById('reg-phone').value;
            const pass = document.getElementById('reg-pass').value;
            const passConf = document.getElementById('reg-pass-conf').value;

            // تحقق بسيط
            if(pass !== passConf) {
                showToast('كلمة المرور غير متطابقة!');
                return;
            }

            // إنشاء كائن المستخدم
            const user = {
                name: name,
                phone: phone,
                password: pass
            };

            // حفظ في LocalStorage (مفتاح بسيط student_user)
            localStorage.setItem('student_user', JSON.stringify(user));

            showToast('تم إنشاء الحساب بنجاح! قم بتسجيل الدخول الآن.');
            toggleAuth('login'); // تحويل لصفحة الدخول
        }

        function handleLogin(e) {
            e.preventDefault();
            
            const phone = document.getElementById('login-phone').value;
            const pass = document.getElementById('login-pass').value;

            // جلب البيانات المخزنة
            const storedUser = JSON.parse(localStorage.getItem('student_user'));

            if(storedUser && storedUser.phone === phone && storedUser.password === pass) {
                showToast(`أهلاً بك يا ${storedUser.name} ❤️`);
                
                // حفظ حالة الدخول
                localStorage.setItem('is_logged_in', 'true');
                
                updateUIForLogin(storedUser.name);
                switchView('home');
            } else {
                showToast('رقم الهاتف أو كلمة المرور غير صحيحة!');
            }
        }

        function checkLoginStatus() {
            const isLoggedIn = localStorage.getItem('is_logged_in');
            const storedUser = JSON.parse(localStorage.getItem('student_user'));

            if(isLoggedIn === 'true' && storedUser) {
                updateUIForLogin(storedUser.name);
            }
        }

        function updateUIForLogin(name) {
            const authBtn = document.getElementById('nav-auth-btn');
            const logoutBtn = document.getElementById('nav-logout-btn');

            authBtn.innerText = name; // تغيير "تسجيل دخول" لاسم الطالب
            authBtn.onclick = (e) => { e.preventDefault(); }; // تعطيل النقر
            logoutBtn.style.display = 'inline-block';
        }

        function logout() {
            localStorage.removeItem('is_logged_in');
            location.reload(); // إعادة تحميل الصفحة
        }
    </script>
</body>
</html>
